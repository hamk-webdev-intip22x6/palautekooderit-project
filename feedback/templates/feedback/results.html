<!-- Dropdown list of topics -->
<select id="topicSelect">
    {% for topic, feedbacks in results %}
        <option value="{{ topic.id }}">{{ topic.name }}</option>
    {% endfor %}
</select>

<!-- Feedback entries -->
{% for topic, feedbacks in results %}
    <div class="topic" id="topic{{ topic.id }}" style="display: none;">
        {% for feedback in feedbacks %}
            <div class="feedbackEntry">
                <p>{{ feedback.rating }}</p>
                <p>{{ feedback.good }}</p>
                <p>{{ feedback.bad }}</p>
                <p>{{ feedback.ideas }}</p>
                <p>{{ feedback.date }}</p>
            </div>
        {% endfor %}
    </div>
{% endfor %}

<!-- JavaScript to show/hide feedback entries -->
<script>
    let topics = document.getElementsByClassName('topic');
    let topicsArray = Array.from(topics);
    let topicSelect = document.getElementById('topicSelect');
    let selectedTopicId = topicSelect.value;
    let selectedTopic = topicsArray.find(e => e.id === "topic" + selectedTopicId);
    selectedTopic.style.display = "block"
    
    topicSelect.addEventListener('change', function() {
        // Hide all feedback entries
        var topics = document.getElementsByClassName('topic');
        for (var i = 0; i < topics.length; i++) {
            topics[i].style.display = 'none';
        }

        // Show feedback entries for selected topic
        var selectedTopicId = this.value;
        document.getElementById('topic' + selectedTopicId).style.display = 'block';
    });
</script>